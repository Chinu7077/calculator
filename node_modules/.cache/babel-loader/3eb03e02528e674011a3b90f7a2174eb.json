{"ast":null,"code":"var _jsxFileName = \"/Users/chinmayakumarnayak/react-calculator/react-calculator/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"./Components/Header/Header\";\nimport KeyPad from \"./Components/KeyPad/KeyPad\";\nimport moonIcon from \"./Components/assets/moon.png\";\nimport sunIcon from \"./Components/assets/sun.png\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst usedKeyCodes = [30, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 8, 13, 190, 187, 189, 191, 56, 111, 106, 107, 109];\nconst numbers = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\nconst operators = [\"-\", \"+\", \"*\", \"/\"];\n\nfunction App() {\n  _s();\n\n  const [isDarkMode, setIsDarkMode] = useState(JSON.parse(localStorage.getItem(\"calculator-app-mode\")) || false);\n  const [expression, setExression] = useState(\"\");\n  const [result, setResult] = useState(\"\");\n  const [history, setHistory] = useState(JSON.parse(localStorage.getItem(\"calculator-app-history\")) || []);\n\n  const resetInput = () => {\n    setExression(\"\");\n    setResult(\"\");\n  };\n\n  const handleKeyPress = (keyCode, key) => {\n    if (!keyCode) return;\n    if (!usedKeyCodes.includes(keyCode)) return;\n\n    if (numbers.includes(key)) {\n      if (key === \"0\") {\n        if (expression.length === 0) return;\n      }\n\n      calculateResult(expression + key);\n      setExression(expression + key);\n    } else if (operators.includes(key)) {\n      if (!expression) return;\n      const lastChar = expression.slice(-1);\n      if (operators.includes(lastChar)) return;\n      if (lastChar === \".\") return;\n      setExression(expression + key);\n    } else if (key === \".\") {\n      if (!expression) return;\n      const lastChar = expression.slice(-1);\n      if (!numbers.includes(lastChar)) return;\n      setExression(expression + key);\n    } else if (keyCode === 8) {\n      if (!expression) return;\n      calculateResult(expression.slice(0, -1));\n      setExression(expression.slice(0, -1));\n    } else if (keyCode === 13) {\n      if (!expression) return;\n      calculateResult(expression);\n      let tempHistory = [...history];\n      if (tempHistory.length > 20) tempHistory = tempHistory.splice(0, 1);\n      tempHistory.push(expression);\n      setHistory(tempHistory);\n    }\n  };\n\n  const calculateResult = exp => {\n    if (!exp) {\n      setResult(\"\");\n      return;\n    }\n\n    const lastChar = exp.slice(-1);\n    if (!numbers.includes(lastChar)) exp = exp.slice(0, -1);\n    const answer = eval(exp).toFixed(2) + \"\";\n    setResult(answer);\n  };\n\n  useEffect(() => {\n    localStorage.setItem(\"calculator-app-mode\", JSON.stringify(isDarkMode));\n  }, [isDarkMode]);\n  useEffect(() => {\n    localStorage.setItem(\"calculator-app-history\", JSON.stringify(history));\n  }, [history]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    tabIndex: \"0\",\n    onKeyDown: event => handleKeyPress(event.keyCode, event.key),\n    \"data-theme\": isDarkMode ? \"dark\" : \"\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app_calculator\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app_calculator_navbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            symbol: \"Clear\",\n            handleClick: resetInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"app_calculator_navbar_toggle\",\n            onClick: () => setIsDarkMode(!isDarkMode),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `app_calculator_navbar_toggle_circle ${isDarkMode ? \"app_calculator_navbar_toggle_circle_active\" : \"\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: isDarkMode ? moonIcon : sunIcon,\n            alt: \"mode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Header, {\n          expression: expression,\n          result: result,\n          history: history\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(KeyPad, {\n          handleKeyPress: handleKeyPress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"pOfka5iRpafkKaP8KoP+4yGXxEQ=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Header","KeyPad","moonIcon","sunIcon","usedKeyCodes","numbers","operators","App","isDarkMode","setIsDarkMode","JSON","parse","localStorage","getItem","expression","setExression","result","setResult","history","setHistory","resetInput","handleKeyPress","keyCode","key","includes","length","calculateResult","lastChar","slice","tempHistory","splice","push","exp","answer","eval","toFixed","setItem","stringify","event"],"sources":["/Users/chinmayakumarnayak/react-calculator/react-calculator/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport Header from \"./Components/Header/Header\";\nimport KeyPad from \"./Components/KeyPad/KeyPad\";\n\nimport moonIcon from \"./Components/assets/moon.png\";\nimport sunIcon from \"./Components/assets/sun.png\";\n\nimport \"./App.css\";\n\nconst usedKeyCodes = [ 30,\n  48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97, 98, 99, 100, 101, 102, 103,\n  104, 105, 8, 13, 190, 187, 189, 191, 56, 111, 106, 107, 109,\n];\nconst numbers = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\nconst operators = [\"-\", \"+\", \"*\", \"/\"];\n\nfunction App() {\n  \n  \n  const [isDarkMode, setIsDarkMode] = useState(\n    JSON.parse(localStorage.getItem(\"calculator-app-mode\")) || false\n  );\n  const [expression, setExression] = useState(\"\");\n  const [result, setResult] = useState(\"\");\n  const [history, setHistory] = useState(\n    JSON.parse(localStorage.getItem(\"calculator-app-history\")) || []\n    \n  );\n  const resetInput = () => {\n    setExression(\"\");\n    setResult(\"\");\n  };\n  \n\n  const handleKeyPress = (keyCode, key) => {\n    if (!keyCode) return;\n    if (!usedKeyCodes.includes(keyCode)) return;\n\n    if (numbers.includes(key)) {\n      if (key === \"0\") {\n        if (expression.length === 0) return;\n      }\n      calculateResult(expression + key);\n      setExression(expression + key);\n    } else if (operators.includes(key)) {\n      if (!expression) return;\n\n      const lastChar = expression.slice(-1);\n      if (operators.includes(lastChar)) return;\n      if (lastChar === \".\") return;\n\n      setExression(expression + key);\n    } else if (key === \".\") {\n      if (!expression) return;\n      const lastChar = expression.slice(-1);\n      if (!numbers.includes(lastChar)) return;\n\n      setExression(expression + key);\n    } else if (keyCode === 8) {\n      if (!expression) return;\n      calculateResult(expression.slice(0, -1));\n      setExression(expression.slice(0, -1));\n    } else if (keyCode === 13) {\n      if (!expression) return;\n      calculateResult(expression);\n\n      let tempHistory = [...history];\n      if (tempHistory.length > 20) tempHistory = tempHistory.splice(0, 1);\n      tempHistory.push(expression);\n      setHistory(tempHistory);\n    }\n  };\n\n  const calculateResult = (exp) => {\n    if (!exp) {\n      setResult(\"\");\n      return;\n    }\n    const lastChar = exp.slice(-1);\n    if (!numbers.includes(lastChar)) exp = exp.slice(0, -1);\n\n    const answer = eval(exp).toFixed(2) + \"\";\n    setResult(answer);\n  };\n\n  useEffect(() => {\n    localStorage.setItem(\"calculator-app-mode\", JSON.stringify(isDarkMode));\n  }, [isDarkMode]);\n\n  useEffect(() => {\n    localStorage.setItem(\"calculator-app-history\", JSON.stringify(history));\n  }, [history]);\n\n  return (\n    <div\n      className=\"app\"\n      tabIndex=\"0\"\n      onKeyDown={(event) => handleKeyPress(event.keyCode, event.key)}\n      data-theme={isDarkMode ? \"dark\" : \"\"}\n    >\n      <div className=\"app_calculator\">\n      \n       \n        <div className=\"app_calculator_navbar\">\n          <div className=\"button\">\n        <button symbol=\"Clear\"  handleClick={resetInput}>\n          \n        </button>\n          <div\n            className=\"app_calculator_navbar_toggle\"\n            onClick={() => setIsDarkMode(!isDarkMode)}\n          >\n             \n            <div\n              className={`app_calculator_navbar_toggle_circle ${\n                isDarkMode ? \"app_calculator_navbar_toggle_circle_active\" : \"\"\n              }`}\n              \n            />\n            \n          </div>\n          <img src={isDarkMode ? moonIcon : sunIcon} alt=\"mode\" />\n        </div>\n\n        <Header expression={expression} result={result} history={history} />\n        <KeyPad handleKeyPress={handleKeyPress} />\n      </div>\n    </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}